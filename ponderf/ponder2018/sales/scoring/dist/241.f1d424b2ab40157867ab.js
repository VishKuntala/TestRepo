(self.webpackChunkleafletapp=self.webpackChunkleafletapp||[]).push([[241,579],{5579:(e,t,r)=>{"use strict";r.r(t),r.d(t,{html:()=>n});var n=function(e){return e.adminUser,e.id,'<div class="center aligned">\n  <input data-publish-attr="compareSvid" type="checkbox" name="chkCompareSvid" id="chkCompareSvid">\n</div>'}},9241:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=function(e){e.id;var t=e.headers;return"\n  <thead>\n<tr>\n".concat(t.map((function(e){return'<th class="center aligned">'.concat(e,"</th>")})),"\n</tr>\n  </thead>")},a=r(3609),o=r.n(a),i=r(180),s=r(7858),c=r(1900),d=r(6788),u=r(2281),p=r(5579);function l(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){l(o,n,a,i,s,"next",e)}function s(e){l(o,n,a,i,s,"throw",e)}i(void 0)}))}}const m=function(e){var t=e.adminUser,r=e.instance,a=function(){var e=v(regeneratorRuntime.mark((function e(){var t,n,a,i,s,c,d,u,p,l,v,m,h,f,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.store,n=t.svIds,a=t.salesRepId,i=t.statecode,s=t.covScore,c=t.fiveg,d=t.band14,u=t.tputText,p=t.roamingDependency,l=t.zipcode,v=t.smId,m=t.sortCriteria,h=t.legacyPen,""!==v||""!==a){e.next=3;break}return e.abrupt("return");case 3:return n&&(n="'"+n.split(",").join("','")+"'"),a&&(a="'"+a.split(",").join("','")+"'"),i&&(i="'"+i.split(",").join("','")+"'"),s&&(s="'"+s.split(",").join("','")+"'"),c&&(c="'"+c.split(",").join("','")+"'"),d&&(d="'"+d.split(",").join("','")+"'"),u&&(u="'"+u.split(",").join("','")+"'"),p&&(p="'"+p.split(",").join("','")+"'"),l&&(l="'"+l.split(",").join("','")+"'"),h&&(h="'"+h.split(",").join("','")+"'"),f={smId:v,salesRepId:a,sortCriteria:m,svIds:n||"",zipcode:l||"",statecode:i||"",covScore:s||"",fiveg:c||"",band14:d||"",tputText:u||"",roamingDependency:p||"",limit:"500",legacyPen:h||""},e.next=16,o().ajax({url:"/sales/scoring/Scoring.aspx/TableData",headers:{"Content-Type":"application/json"},type:"post",data:JSON.stringify(f),processData:!1});case 16:return g=e.sent,e.abrupt("return",g.d);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p.html({adminUser:t,id:r.id}),{prependColumns:null,appendColumns:null,initSubscriptions:function(){r.stateManager.subscribe("renderTable",function(){var e=v(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,r.reloadTableData(r.store.tableData);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.stateManager.subscribe("removeAllCards",function(){var e=v(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o()("#chkCompareSvid:checked").prop("checked",!1),r.store.compareSvids=[],o()("#chkCompareSvid:not(:checked)").removeAttr("disabled");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.stateManager.subscribe("removeCard",function(){var e=v(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&!i.Z(Array,t)&&(o()('input[type="checkbox"][rowid="'.concat(t,'"]')).prop("checked",!1),r.store.compareSvids=s.Z([t],r.store.compareSvids),r.store.compareSvids.length<2&&o()("#chkCompareSvid:not(:checked)").removeAttr("disabled"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.stateManager.subscribe("sortCriteria",function(){var e=v(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return n=e.sent,e.next=5,r.reloadTableData(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.stateManager.subscribe("compareSvid",function(){var e=v(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="".concat(t.svid,"_").concat(t.latitude,"_").concat(t.longitude),t&&!i.Z(Array,t)&&(c.Z(n,r.store.compareSvids)?(r.store.compareSvids=s.Z([n],r.store.compareSvids),r.store.cardsData=d.Z((function(e){return e.id!==n}),r.store.cardsData),r.store.compareSvids.length<2&&o()("#chkCompareSvid:not(:checked)").removeAttr("disabled")):r.store.compareSvids.length<2&&(r.store.compareSvids=u.Z(n,r.store.compareSvids),r.store.cardsData=u.Z({id:n,title:t.svid_name,description:""},r.store.cardsData),2===r.store.compareSvids.length&&o()("#chkCompareSvid:not(:checked)").attr("disabled",!0))),r.store.cardsData.length?o()(".ponderCards.message").removeClass("hidden").addClass("visible"):o()(".ponderCards.message").removeClass("visible").addClass("hidden");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},createdCell:function(e,t,r,n,a){isNaN(t)||o()(e).addClass("center aligned")},nowrap:!0,dataSrc:function(e){return r.store.filterClusterTable?d.Z(r.store.filterClusterTable,e.d):e.d},dataTableConfig:{searching:!0,paging:!0,pageLength:6,fixedColumns:{leftColumns:2},lengthChange:!1,createdRow:function(e,t,r){var n=o()(e).find('input[type="checkbox"]'),a="".concat(t.svid,"_").concat(t.latitude,"_").concat(t.longitude);o()(n[0]).attr("rowid",a)}},attachEventHandlers:function(){var e=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o()("#"+r.id).off().on("draw.dt",(function(){o()("#chkCompareSvid:checked").prop("checked",!1);for(var e=0;e<r.store.compareSvids.length;e+=1)o()('input[type="checkbox"][rowid="'.concat(r.store.compareSvids[e],'"]')).prop("checked",!0);r.store.compareSvids.length>=2?o()("#chkCompareSvid:not(:checked)").attr("disabled",!0):o()("#chkCompareSvid:not(:checked)").removeAttr("disabled")})),o()("#".concat(r.id," tbody")).on("click","tr",(function(){var e=o()(this).closest("tr"),t=r.table.row(e).data();r.store.zoomToPoint=[t.latitude,t.longitude,Date.now().toString()]}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),html:n}}}}]);